$("#general-modal-content").html("<%= j(render('show')) %>");
new bootstrap.Modal(document.getElementById('general-modal')).show();

// BEGIN: code block copy button

  var blocks = document.querySelectorAll("code");

  blocks.forEach((block) => {
    var wrapper = document.createElement('div');
    block.parentNode.insertBefore(wrapper, block);
    wrapper.appendChild(block);
    let button = document.createElement("i");
    button.classList.add("fas");
    button.classList.add("fa-copy");
    button.classList.add("btn");
    button.classList.add("btn-link");
    button.addEventListener("click", copyCode);
    wrapper.appendChild(button);
  });

  async function copyCode(event) {
    const button = event.srcElement;
    const pre = button.parentElement ;
    let code = pre.querySelector("code");
    let text = code.innerText;
    navigator.clipboard.writeText($("#hostview_ip").text()).then(function() {
      // success copy to clipboard
      toastr.info("Codeblock copied to clipboard");
    }, function(err) {
      toastr.error("Failed copy codeblock to clipboard");
      // failed copy to clipboard
    });    
  }

// END: code block copy button
